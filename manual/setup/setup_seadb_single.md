# Setup SeaDB in single node

SeaDB depends on [FoundationDB](https://apple.github.io/foundationdb/). 

FoundationDB is a distributed database designed to handle large volumes of structured data across clusters of commodity servers.

## Deploy FoundationDB

Please refer to the [official documentation](https://apple.github.io/foundationdb/getting-started-mac.html) to deploy FoundationDB.

## Deploy SeaDB

### Download and modify `.env`

To deploy SeaDB with Docker, you have to `.env`, `seadb.yml` and `fdb.cluster` in a directory (e.g., `/opt/seadb`):

```bash
mkdir /opt/seadb
cd /opt/seadb

wget -O .env https://manual.seaticket.ai/main/repo/docker/env-seadb
wget https://manual.seaticket.ai/main/repo/docker/seadb.yml
wget https://manual.seaticket.ai/main/repo/docker/fdb.cluster

vim .env
```

The following fields merit particular attention:

| Variable                        | Description                                                                                                   | Default Value                   |  
| ------------------------------- | ------------------------------------------------------------------------------------------------------------- | ------------------------------- |  
| `JWT_PRIVATE_KEY`                           | JWT_PRIVATE_KEY, A random string with a length of no less than 32 characters is required for SeaTicket, which can be generated by using `pwgen -s 40 1` | (required) |  
| `SEADB_VOLUME`                | The volume directory of SeaDB data                                                                          | `/opt/seadb-data`             |  
| `FDB_VOLUME`          | The volume directory of FoundationDB data                                                                            | `/opt/fdb-data`         |  
| `TIME_ZONE`                     | Time zone                                                                                                     | `UTC`                           |

Modify `fdb.cluster`, the content should copy from the `/etc/foundationdb/fdb.cluster` file in the FoundationDB node:

```bash
vim fdb.cluster
```

### Start SeaDB

Run the following command:

```bash
docker compose up -d

docker logs -f seadb
```

When you see the following log, it means that SeaDB is ready:

```log
seadb | seadb started
```
