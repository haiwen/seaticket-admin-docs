{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Introduction","text":"<p>SeaTicket is a unified issue management platform with AI Agents.</p> <p>It lets you consolidate all your software issues from GitHub, forums, emails, and more into a single intelligent platform. Enable AI agents to assist your team in autonomously resolving problems.</p>"},{"location":"administration/account_management/","title":"Accout management","text":""},{"location":"administration/account_management/#add-a-new-admin-account","title":"Add a new admin account","text":"<p>Ensure the container is running, then enter this command:</p> <pre><code>docker exec -it seaqa-web /scripts/reset-admin.sh\n</code></pre> <p>Enter the username and password according to the prompts. You now have a new admin account.</p>"},{"location":"administration/account_management/#forgot-admin-account-or-password","title":"Forgot admin account or password?","text":"<p>Simply create a new admin account as described above, and then use this new account to reset the password for the old admin account.</p>"},{"location":"administration/backup_restore/","title":"Backup and restore","text":""},{"location":"administration/clean_database/","title":"Clean database","text":""},{"location":"administration/overview/","title":"Overview","text":"<p>SeaTicket uses multiple tenancy mode as default. This means that every normal users are associated with a team.</p> <p>The system admin user is a special user that does not belong to any team and cannot use normal features of SeaTicket. It can only access the system adminitration interface.</p> <p>After deploy the server, your first step is to add a team and add users to the team.</p>"},{"location":"configuration/environment_variables/","title":".env","text":"<p>The <code>.env</code> file will be used to specify the general settings of the components used by the SeaTicket-docker instance and the environment variables required by each component.</p>"},{"location":"configuration/environment_variables/#seaticket-settings","title":"SeaTicket Settings","text":"Variable Description Default Value <code>SEATICKET_SERVER_PROTOCOL</code> SeaTicket server protocol (http or https) <code>http</code> <code>SEATICKET_SERVER_HOSTNAME</code> Seafile server hostname or domain (required) <code>JWT_PRIVATE_KEY</code> JWT_PRIVATE_KEY, A random string with a length of no less than 32 characters is required for Seafile, which can be generated by using <code>pwgen -s 40 1</code> (required)"},{"location":"configuration/environment_variables/#seadb-settings","title":"SeaDB settings","text":"Variable Description Default Value <code>SEADB_SERVER_URL</code> SeaDB server URL <code>http://seadb</code> <code>SEADB_SERVER_ACCESS_TOEKN</code> Access token for SeaDB server (required)"},{"location":"configuration/environment_variables/#seasearch-settings","title":"SeaSearch Settings","text":"Variable Description Default Value <code>SEASEARCH_URL</code> Your SeaSearch server API endpoint url, e.g., <code>http://&lt;your seasearch host&gt;:4080</code> (required) <code>SEASEARCH_TOKEN</code> Your authorization token for accessing SeaSearch API, which can be constructed in <code>echo -n '&lt;your_seasearch_username&gt;:&lt;your_seasearch_password&gt;' | base64</code> (required)"},{"location":"configuration/environment_variables/#mysql-settings","title":"Mysql Settings","text":"Variable Description Default Value <code>SEAQA_MYSQL_DB_HOST</code> The host of MySQL server (required) <code>SEAQA_MYSQL_DB_PORT</code> The port of MySQL server <code>3306</code> <code>SEAQA_MYSQL_DB_USER</code> The user for accessing MySQL server <code>seaticket</code> <code>SEAQA_MYSQL_DB_PASSWORD</code> The password of MySQL server (none)"},{"location":"configuration/environment_variables/#redis-settings","title":"Redis Settings","text":"Variable Description Default Value <code>REDIS_HOST</code> The host of Redis server (required) <code>REDIS_PORT</code> The port of Redis server <code>6379</code> <code>REDIS_PASSWORD</code> The password of Redis server (none)"},{"location":"configuration/environment_variables/#s3-settings","title":"S3 Settings","text":"Variable Description Default Value <code>S3_HOST</code> S3 storage backend API endpoint URL (e.g., <code>https://s3-endpoint.example.com</code>. For AWS S3, the <code>S3_HOST</code> can be set from <code>https://s3.&lt;region&gt;.amazonaws.com</code>) (required) <code>S3_KEY_ID</code> S3 storage backend key ID (required) <code>S3_SECRET_KEY</code> S3 storage backend secret key (required) <code>S3_FILE_BUCKET</code> Name of the bucket for saving upload files (required) <code>S3_WEB_CRAWL_BUCKET</code> Name of the bucket for saving web-crawl data (required)"},{"location":"configuration/environment_variables/#advanced-system-systems","title":"Advanced system systems","text":"Variable Description Default Value <code>SEAQA_LOG_TO_STDOUT</code> Record logs to container standard output <code>false</code> <code>TIME_ZONE</code> Timezone of SeaTicket server <code>UTC</code>"},{"location":"configuration/seaticket_yaml/","title":"seaticket.yaml","text":"<p>Besides <code>.env</code> for general settings, the <code>seaticket.yaml</code> is used to specify the detailed configurations of the all components in SeaTicket docker.</p>"},{"location":"configuration/seaticket_yaml/#file-structure-of-seaticketyaml","title":"File structure of seaticket.yaml","text":"<p><code>seaticket.yaml</code> consists of the following sections (i.e., <code>global</code> and name of each component):</p> <pre><code>global:\n  # ... configurations for all components\nseaqa-ai:\n  # ... special configurations for seaqa-ai\nseaqa-events:\n  # ... special configurations for seaqa-events\nseaqa-indexer:\n  # ... special configurations for seaqa-indexer\nseaqa-web:\n  # ... special configurations for seaqa-web\n</code></pre>"},{"location":"configuration/seaticket_yaml/#global-settings","title":"global settings","text":"<p>The global section is generally used to specify configuration items that are common to all SeaTickets components.</p>"},{"location":"configuration/seaticket_yaml/#internal-server-urls-used-for-communication-between-seaticket-components-cluster-only","title":"Internal server URLs used for communication between SeaTicket components (cluster only)","text":"<p>In cluster mode, you need to specify the URLs used for internal communication between components via <code>seaticket.yaml</code>:</p> <pre><code>global:\n  # ... other configurations\n  SEAQA_AI_INNER_SERVER_URL: http://&lt;your seaqa-ai server host&gt;:8887\n  SEAQA_INDEXER_INNER_SERVER_URL: http://&lt;your seaqa-indexer server host&gt;:8888\n  SEAQA_EVENTS_INNER_SERVER_URL: http://&lt;your seaqa-events server host&gt;:6001\n</code></pre>"},{"location":"configuration/seaticket_yaml/#llms-configurations","title":"LLMs configurations","text":"<p>To ensure the SeaTicket service functions normally, please ensure that <code>seaticket.yaml</code> contains at least one valid LLM</p> <p>For LLMs configurations, you should configure a list option <code>LLM_MODELS</code> in <code>seaticket.yaml</code>:</p> <pre><code>global:\n  LLM_MODELS:\n    # &lt;model 1 configuration&gt;\n    - type: 'your_llm_provider' # required, please refer https://docs.litellm.ai/docs/providers for the details\n      model: 'your_model_id' # required\n      url: 'llm_endpoint' # required for some provider (or type)\n      key: 'llm_secret_key' # required for non-self deploy LLM server (including OpenAI proxy)\n      label: 'display_name' # optional, display name on SeaTicket chat page, default to option `model` if not set\n      hidden: false # optional, hidden on SeaTicket chat page but still can be used with API calling and other components, default to `false`\n      disable: false # optional, disable this LLM, default to `false`\n      tier: # optional (must be one of `low`, `medium`, or `high`.), used to specify the inference strength of the model to facilitate invocation between different tasks. If two LLMs have the same `tier`, only the LLM that specifies that `tier` will be used, as specified by the first item in the `LLM_MODELS` list.\n      price: # required only need to specify this when you need to track user token usage.\n        input: 0.0001 # dollars / 1k tokens (non-cached)\n        output: 0.01 # dollars / 1k tokens\n\n    # &lt;model 2 configuration&gt;\n    # - type: ...\n\n    # &lt;model 3 configuration&gt;\n    # - type : ...\n</code></pre>"},{"location":"configuration/seaticket_yaml/#llms-reference-configuration","title":"LLMs reference configuration","text":"OpenAIGeminiQwenDeepseekAzure OpenAIOllamaHuggingFaceSelf-proxy OpenAI ServerOther <pre><code>global:\n# ...\nLLM_MODELS:\n  - type: openai\n    model: &lt;your model-id&gt;  # e.g., gpt-4o-mini\n    key: &lt;your openai LLM access key&gt;\n</code></pre> <pre><code>global:\n# ...\nLLM_MODELS:\n  - type: gemini\n    model: &lt;your model-id&gt;  # e.g., gemini-2.5-flash\n    key: &lt;your gemini LLM access key&gt;\n</code></pre> <pre><code>global:\n# ...\nLLM_MODELS:\n  - type: dashscope\n    model: &lt;your model-id&gt;  # e.g., qwen3-max\n    key: &lt;your qwen LLM access key&gt;\n</code></pre> <pre><code>global:\n# ...\nLLM_MODELS:\n  - type: deepseek\n    model: &lt;model_id&gt; # e.g. deepseek-chat\n    key: &lt;your LLM access key&gt;\n</code></pre> <pre><code>global:\n# ...\nLLM_MODELS:\n  - type: azure\n    model: &lt;your deployment name&gt;\n    url: # your deployment url, leave blank to use default endpoint\n    key: &lt;your LLM access key&gt;\n</code></pre> <pre><code>global:\n# ...\nLLM_MODELS:\n  - type: ollama\n    model: &lt;your model-id&gt;\n    url: &lt;your LLM endpoint&gt;\n    key: &lt;your LLM access key&gt;\n</code></pre> <pre><code>global:\n# ...\nLLM_MODELS:\n  - type: huggingface\n    model: &lt;model provider&gt;/&lt;model-id&gt;\n    url: &lt;your huggingface API endpoint&gt;\n    key: &lt;your huggingface API key&gt;\n</code></pre> <pre><code>global:\n# ...\nLLM_MODELS:\n  - type: proxy\n    model: &lt;model-id&gt;\n    url: &lt;your proxy url&gt;\n    key: &lt;your proxy virtual key&gt;\n</code></pre> <p>Seafile AI utilizes LiteLLM to interact with LLM services. For a complete list of supported LLM providers, please refer to this documentation. Then fill the following fields in your <code>seaticket.yaml</code>:</p> <p>For example, if you are using a LLM service with OpenAI-compatible endpoints, you should set <code>type</code> to <code>other</code>, and set other LLM configuration items accurately.</p>"},{"location":"configuration/seaticket_yaml/#embedding-model","title":"Embedding model","text":"<p>To ensure the SeaTicket service functions normally, please ensure that <code>seaticket.yaml</code> has specified embedding model</p> <p>The configuration of embedding models is similar to that of an element in the <code>LLM_MODELS</code> list:</p> <pre><code>global:\n  EMBEDDING_MODEL:\n    type: ...\n    model: embedding_model_id\n    url: embedding_model_endpoint # required for some provider (or type)\n    key: embedding_model_secret_key # required for non-self deployment LLM server (including OpenAI-proxy)\n    price: 0.00002 # dollars / 1K input tokens, required only need to specify this when you need to track user token usage.\n</code></pre>"},{"location":"configuration/seaticket_yaml/#special-settings-for-seaqa-ai","title":"Special settings for SeaQA-AI","text":"<p>The following are the default values, normally, you don't need to make any additional settings for this part</p> <pre><code>seaqa-ai:\n  THOUGHT_PROCESS: # Configure which content to record in the thought process.\n    tasks:\n      enabled: true\n      system_prompt: false\n      user_input: true\n      user_input_raw: false\n    context: false\n    tool_details: false\n  AI_UTILS_TIER: # The tier level required to configure AI functionality (must be one of `low`, `medium`, and `high`) will be matched in `LLM_MODELS`.\n    generate_ticket: low\n    generate_summary: low\n    rerank_relevance: medium\n</code></pre>"},{"location":"configuration/seaticket_yaml/#special-settings-for-seaqa-events","title":"Special settings for SeaQA-Events","text":"<pre><code>seaqa-events:\n  AI_STATS: # optional\n    enabled: true # Enable AI tokens usage statistics (default is `true`)\n</code></pre>"},{"location":"setup/overview/","title":"Overview","text":"<p>SeaTicket depends on SeaDB to provide scalable and high performance storage for synced records.</p> <p>To install SeaTicket, you need to first install SeaDB.</p>"},{"location":"setup/setup_seadb_cluster/","title":"Setup SeaDB cluster","text":"<p>SeaDB depends on FoundationDB. </p> <p>FoundationDB is a distributed database designed to handle large volumes of structured data across clusters of commodity servers.</p>"},{"location":"setup/setup_seadb_cluster/#deploy-foundationdb-cluster","title":"Deploy FoundationDB Cluster","text":"<p>This guide uses a three-node FoundationDB<code>(v7.3.63)</code> setup as an example <code>cluster-fdb1(192.168.0.10), cluster-fdb2(192.168.0.11), cluster-fdb3(192.168.0.12)</code>. Each node runs two fdbserver processes, and each fdbserver process uses its own dedicated SSD data disk (<code>/fdb1</code> and <code>/fdb2</code>). Unless otherwise specified, the following steps should be performed on all three nodes. For more information, please refer to the official documentation.</p>"},{"location":"setup/setup_seadb_cluster/#foundationdb-installation","title":"FoundationDB Installation","text":"<p>Install FoundationDB on each node according to the official documentation.</p> <p>Then, you need to stop the service and migrate existing data to the new directory.</p> <pre><code># Stop the service\nsystemctl stop foundationdb || service foundationdb stop\n\n# Create data directories\nmkdir -p /fdb1/foundationdb/data/4500 /fdb1/foundationdb/log/4500\nmkdir -p /fdb2/foundationdb/data/4501 /fdb2/foundationdb/log/4501\n\n# Migrate existing data\nrsync -aHAX --numeric-ids /var/lib/foundationdb/data/4500/ /fdb1/foundationdb/data/4500/\n# If the second fdbserver process has not been started, you don\u2019t need to run this step.\nrsync -aHAX --numeric-ids /var/lib/foundationdb/data/4501/ /fdb2/foundationdb/data/4501/\n\n# Update permissions\nchown -R foundationdb:foundationdb /fdb1/foundationdb /fdb2/foundationdb\nchmod 700 /fdb1/foundationdb/data/4500 /fdb2/foundationdb/data/4501\nchmod 755 /fdb1/foundationdb/log/4500 /fdb2/foundationdb/log/4501\n</code></pre>"},{"location":"setup/setup_seadb_cluster/#modify-foundationdbconf","title":"Modify <code>foundationdb.conf</code>","text":"<p>Specify <code>datadir</code> and <code>logdir</code> separately for each fdbserver process. Assign a <code>class</code> role to each fdbserver process.</p> <p>In the existing configuration, keep the default [fdbserver] section unchanged, and add the two fdbserver process configurations as follows:</p> <pre><code>[fdbserver.4500]\nclass  = transaction\ndatadir = /fdb1/foundationdb/data/4500\nlogdir  = /fdb1/foundationdb/log/4500\n\n[fdbserver.4501]\nclass  = storage\ndatadir = /fdb2/foundationdb/data/4501\nlogdir  = /fdb2/foundationdb/log/4501\n</code></pre>"},{"location":"setup/setup_seadb_cluster/#start-the-foundationdb-service","title":"Start the FoundationDB service","text":"<p>Check whether the foundationdb processes have started, and verify that the cluster status and the role/class identity of each process are correct.</p> <pre><code>systemctl start foundationdb || service foundationdb start\n\nss -lntp | egrep ':4500|:4501' || true\n\nfdbcli --exec \"status json\" \\\n| jq -r '.cluster.processes\n         | to_entries[]\n         | \"\\(.value.address)\\tclass=\\(.value.class_type // \"unset\")\\troles=\\((.value.roles // [])|map(.role)|unique|join(\",\"))\"'\n\n192.168.0.12:4501   class=storage  roles=ratekeeper,storage\n192.168.0.11:4500   class=transaction  roles=cluster_controller,coordinator,log,resolver\n192.168.0.12:4500   class=transaction  roles=commit_proxy,coordinator,grv_proxy,log\n192.168.0.10:4500   class=transaction  roles=commit_proxy,coordinator,log,master\n192.168.0.10:4501   class=storage  roles=data_distributor,storage\n192.168.0.11:4501   class=storage  roles=consistency_scan,storage\n\nfdbcli\n&gt; status details\n</code></pre>"},{"location":"setup/setup_seadb_cluster/#configure-foundationdb-for-external-access","title":"Configure FoundationDB for external access","text":"<p>Run the following on <code>cluster-fdb1</code>.</p> <pre><code>python3 /usr/lib/foundationdb/make_public.py # Generate the externally accessible address, similar to the example below\n\ncat /etc/foundationdb/fdb.cluster\n# DO NOT EDIT!\n# This file is auto-generated, it is not to be edited by hand\ndescription:cluster-id@192.168.0.10:4500\n</code></pre>"},{"location":"setup/setup_seadb_cluster/#add-the-other-foundationdb-nodes-to-the-cluster","title":"Add the other FoundationDB nodes to the cluster","text":"<p>Copy the cluster file from an existing node in the cluster to the corresponding path on the new node (overwrite it), then restart.</p> <p>On <code>cluster-fdb2</code> and <code>cluster-fdb3</code>, run:</p> <pre><code>scp root@192.168.0.10:/etc/foundationdb/fdb.cluster /etc/foundationdb/fdb.cluster\n\nsystemctl restart foundationdb || service foundationdb restart\n</code></pre> <p>Check the cluster status to confirm that each machine has joined the cluster and that the process count is correct.</p> <pre><code>fdbcli --exec \"status details\"\n</code></pre> <p>Key output:</p> <pre><code>Cluster:\n  FoundationDB processes - 6\n  Zones                  - 3\n  Machines               - 3\n</code></pre> <p>If a new node fails to join the cluster, it is usually because it was previously started with an old configuration. In that case, stop the service, clean the data directories, and rejoin:</p> <pre><code>systemctl stop foundationdb || service foundationdb stop\n\nscp root@192.168.0.10:/etc/foundationdb/fdb.cluster /etc/foundationdb/fdb.cluster\nchown foundationdb:foundationdb /etc/foundationdb/fdb.cluster\nchmod 664 /etc/foundationdb/fdb.cluster\nchmod 775 /etc/foundationdb\n\nrm -rf /fdb1/foundationdb/data/4500/*\nrm -rf /fdb2/foundationdb/data/4501/*\n\nchown -R foundationdb:foundationdb /fdb1/foundationdb /fdb2/foundationdb\n\nsystemctl start foundationdb || service foundationdb start\n\nss -lntp | egrep '4500|4501'\n\n# Check cluster status.\nfdbcli --exec \"status details\"\n</code></pre>"},{"location":"setup/setup_seadb_cluster/#add-the-coordinator-servers","title":"Add the coordinator servers","text":"<p>Switch the coordinator servers and add more coordinators to improve fault tolerance.</p> <p>After all nodes have joined the cluster, run the following on any node (it\u2019s recommended to use one process port per node as a coordinator, e.g., port 4500 on each node):</p> <pre><code>fdbcli\nfdb&gt; coordinators 192.168.0.10:4500 192.168.0.11:4500 192.168.0.12:4500\n</code></pre>"},{"location":"setup/setup_seadb_cluster/#adjust-the-redundancy-mode-and-storage-engine","title":"Adjust the redundancy mode and storage engine","text":"<p>Run on any node.</p> <pre><code>fdbcli\nfdb&gt; configure storage_migration_type=aggressive\nfdb&gt; configure double ssd\nfdb&gt; status details\n</code></pre>"},{"location":"setup/setup_seadb_cluster/#deploy-seadb","title":"Deploy SeaDB","text":""},{"location":"setup/setup_seadb_cluster/#download-and-modify-env","title":"Download and modify <code>.env</code>","text":"<p>You should deploy the SeaDB service on a new node using Docker.</p> <p>To deploy SeaDB with Docker, you need to download <code>.env</code>, <code>seadb.yml</code> and <code>fdb.cluster</code> in a directory (e.g., <code>/opt/seadb</code>):</p> <pre><code>mkdir /opt/seadb\ncd /opt/seadb\n\nwget -O .env https://manual.seaticket.ai/main/repo/docker/seadb/env\nwget https://manual.seaticket.ai/main/repo/docker/seadb/seadb.yml\nwget https://manual.seaticket.ai/main/repo/docker/seadb/fdb.cluster\n\nvim .env\n</code></pre> <p>The following fields merit particular attention:</p> Variable Description Default Value <code>SEADB_SERVER_ACCESS_TOEKN</code> SEADB_SERVER_ACCESS_TOEKN, A random string with a length of no less than 32 characters is required for SeaTicket, which can be generated by using <code>pwgen -s 40 1</code> (required) <code>SEADB_VOLUME</code> The volume directory of SeaDB data <code>/opt/seadb-data</code> <code>TIME_ZONE</code> Time zone <code>UTC</code> <p>Modify <code>fdb.cluster</code>, the content should copy from the <code>/etc/foundationdb/fdb.cluster</code> file in any FoundationDB node:</p> <pre><code>vim fdb.cluster\n</code></pre>"},{"location":"setup/setup_seadb_cluster/#start-seadb","title":"Start SeaDB","text":"<p>Run the following command:</p> <pre><code>docker compose up -d\n\ndocker logs -f seadb\n</code></pre> <p>When you see the following log, it means that SeaDB is ready:</p> <pre><code>seadb | seadb started\n</code></pre>"},{"location":"setup/setup_seadb_single/","title":"Setup SeaDB in single node","text":"<p>SeaDB depends on FoundationDB. </p> <p>FoundationDB is a distributed database designed to handle large volumes of structured data across clusters of commodity servers.</p>"},{"location":"setup/setup_seadb_single/#deploy-foundationdb","title":"Deploy FoundationDB","text":"<p>For non-production environments, FoundationDB<code>(v7.3.63)</code> can be deployed as a single-node instance using Docker. For installation-package deployments, please refer to the official documentation.</p>"},{"location":"setup/setup_seadb_single/#download-and-modify-env","title":"Download and modify <code>.env</code>","text":"<pre><code>mkdir -p /opt/seadb\ncd /opt/seadb\n\nwget -O .env https://manual.seaticket.ai/main/repo/docker/seadb/env\nwget https://manual.seaticket.ai/main/repo/docker/seadb/fdb.yml\nwget https://manual.seaticket.ai/main/repo/docker/seadb/fdb.cluster\n\nvim .env\n</code></pre> <p>Modify <code>COMPOSE_FILE='seadb.yml'</code> to <code>COMPOSE_FILE='fdb.yml'</code> in the <code>.env</code> file.</p> <pre><code>COMPOSE_FILE='fdb.yml'\n</code></pre>"},{"location":"setup/setup_seadb_single/#initialize-foundationdb","title":"Initialize FoundationDB","text":"<pre><code># Start the FoundationDB service\ndocker compose up -d\n\n# Enter the fdb container\ndocker exec -it fdb bash\n\nfdbcli\n# Configure the ssd-2 storage engine\nfdb&gt; configure new single ssd\nfdb&gt; configure storage_migration_type=aggressive\nfdb&gt; configure ssd\n\n# Check the fdb status\nfdb&gt; status\n</code></pre>"},{"location":"setup/setup_seadb_single/#deploy-seadb","title":"Deploy SeaDB","text":""},{"location":"setup/setup_seadb_single/#download-and-modify-env_1","title":"Download and modify <code>.env</code>","text":"<pre><code>cd /opt/seadb\n\nwget https://manual.seaticket.ai/main/repo/docker/seadb/seadb.yml\n\nvim .env\n</code></pre> <p>Modify <code>COMPOSE_FILE='fdb.yml'</code> to <code>COMPOSE_FILE='fdb.yml,seadb.yml'</code> in the <code>.env</code> file.</p> <pre><code>COMPOSE_FILE='fdb.yml,seadb.yml'\n</code></pre> <p>The following fields merit particular attention:</p> Variable Description Default Value <code>SEADB_SERVER_ACCESS_TOEKN</code> SEADB_SERVER_ACCESS_TOEKN, A random string with a length of no less than 32 characters is required for SeaTicket, which can be generated by using <code>pwgen -s 40 1</code> (required) <code>SEADB_VOLUME</code> The volume directory of SeaDB data <code>/opt/seadb-data</code> <code>FDB_VOLUME</code> The volume directory of FoundationDB data <code>/opt/fdb-data</code> <code>TIME_ZONE</code> Time zone <code>UTC</code>"},{"location":"setup/setup_seadb_single/#start-seadb","title":"Start SeaDB","text":"<p>Run the following command:</p> <pre><code>docker compose up -d\n\ndocker logs -f seadb\n</code></pre> <p>When you see the following log, it means that SeaDB is ready:</p> <pre><code>seadb | seadb started\n</code></pre>"},{"location":"setup/setup_seaticket_prequisites/","title":"Setup database and other prequisites","text":"<p>Beside Seadb, SeaTicket server depends on the following third-party services:</p> <ul> <li>MySQL as database for application data</li> <li>Redis as memcache and message queue</li> <li>S3 storage</li> <li>SeaSearch for full text and vector search for multi-tenant mode</li> </ul>"},{"location":"setup/setup_seaticket_prequisites/#deploy-redis","title":"Deploy Redis","text":"<p>Please refer to Deploy Redis for more details.</p>"},{"location":"setup/setup_seaticket_prequisites/#deploy-mysql","title":"Deploy MySQL","text":"<p>Please refer to Deploy MySQL for more details.</p>"},{"location":"setup/setup_seaticket_prequisites/#prepair-s3-storage","title":"Prepair S3 storage","text":"<p>You need to create three buckets on S3 storage provider for storing files, crawled web pages and SeaSearch.</p>"},{"location":"setup/setup_seaticket_prequisites/#deploy-seasearch","title":"Deploy SeaSearch","text":"<p>Please refer to Deploy SeaSearch for more details.</p> <p>Note: When using SeaTicket, there is no need to deploy Caddy for SeaSearch. Modify <code>COMPOSE_FILE</code> in <code>.env</code>:</p> <pre><code>COMPOSE_FILE='seasearch.yml'\n</code></pre>"},{"location":"setup/setup_seaticket_single/","title":"Setup SeaTicket Server","text":""},{"location":"setup/setup_seaticket_single/#getting-started","title":"Getting started","text":"<p>The following assumptions and conventions are used in the rest of this document</p> <ul> <li><code>/opt/seaticket</code> is the directory for store SeaTicket docker compose files. If you decide to put SeaTicket in a different directory \u2014 which you can \u2014 adjust all paths accordingly.</li> <li>SeaTicket uses some Docker volumes for persisting data generated in its database and SeaTicket Docker container. The volumes' host paths like <code>/opt/caddy-data</code> and <code>/opt/seaticket-data</code>, respectively. It is not recommended to change these paths. If you do, account for it when following these instructions.</li> <li>All configuration and log files for SeaTicket are stored in the volume of the SeaTicket container.</li> <li>SeaTicket contains following components, each packaged as a separate docker image:<ul> <li>Caddy and seaqa-web</li> <li>seaqa-ai</li> <li>seaqa-events</li> <li>seaqa-indexer</li> </ul> </li> </ul>"},{"location":"setup/setup_seaticket_single/#preparing-seaticket_db","title":"Preparing seaticket_db","text":"<p>Before starting SeaTicket, you need to create a MySQL user (<code>seaticket</code> as the example in this manual) and a database for SeaTicket server (<code>seaticket_db</code> as the example in this manual).</p> <p>Copy <code>mysql.sql</code> file to the host <code>/tmp</code> directory:</p> <pre><code>docker run --rm -v /tmp:/shared seaticket/seaqa-web:1.0-latest cp /opt/seaticket/seaqa-web/sql/mysql.sql /shared\n</code></pre> <p>Create the MySQL user <code>seaticket</code> and create the database <code>seaticket_db</code>:</p> <pre><code>mysql -u root -p\n\n# then input the following commands\nCREATE DATABASE seaticket_db CHARACTER SET utf8mb4;\nCREATE USER seaticket@'%' IDENTIFIED BY &lt;SEAQA_MYSQL_DB_PASSWORD&gt;;\nGRANT ALL PRIVILEGES ON seaticket_db.* TO 'seaticket'@'%';\nFLUSH PRIVILEGES;\n\nUSE seaticket_db;\nSOURCE /tmp/mysql.sql;\n</code></pre>"},{"location":"setup/setup_seaticket_single/#download-resource-files","title":"Download resource files","text":"<p>To deploy SeaTicket with Docker, you have to <code>.env</code>, <code>caddy.yml</code>, <code>seaqa-web.yml</code>, <code>seaqa-indexer.yml</code>, <code>seaqa-ai.yml</code>, <code>seaqa-events.yml</code>, and <code>config.yml</code> in a directory (e.g., <code>/opt/seaticket</code>):</p> <pre><code>mkdir /opt/seaticket\ncd /opt/seaticket\n\nwget -O .env https://manual.seaticket.ai/main/repo/docker/seaticket/env\nwget https://manual.seaticket.ai/main/repo/docker/seaticket/config.yml\nwget https://manual.seaticket.ai/main/repo/docker/seaticket/caddy.yml\nwget https://manual.seaticket.ai/main/repo/docker/seaticket/seaqa-web.yml\nwget https://manual.seaticket.ai/main/repo/docker/seaticket/seaqa-indexer.yml\nwget https://manual.seaticket.ai/main/repo/docker/seaticket/seaqa-ai.yml\nwget https://manual.seaticket.ai/main/repo/docker/seaticket/seaqa-events.yml\n</code></pre>"},{"location":"setup/setup_seaticket_single/#modify-env","title":"Modify .env","text":"<p>The following fields merit particular attention:</p> Variable Description Default Value <code>SEATICKET_SERVER_PROTOCOL</code> SeaTicket server protocol (http or https) <code>http</code> <code>SEATICKET_SERVER_HOSTNAME</code> Seafile server hostname or domain (required) <code>JWT_PRIVATE_KEY</code> JWT_PRIVATE_KEY, A random string with a length of no less than 32 characters is required for Seafile, which can be generated by using <code>pwgen -s 40 1</code> (required) <code>SEADB_SERVER_URL</code> SeaDB server URL <code>http://seadb</code> <code>SEADB_SERVER_ACCESS_TOEKN</code> Access token for SeaDB server, should be the same as the value in the <code>.env</code> for deploying SeaDB (required) <code>SEASEARCH_URL</code> Your SeaSearch server API endpoint url, e.g., <code>http://&lt;your seasearch host&gt;:4080</code> (required) <code>SEASEARCH_TOKEN</code> Your authorization token for accessing SeaSearch API, which can be constructed in <code>echo -n '&lt;your_seasearch_username&gt;:&lt;your_seasearch_password&gt;' | base64</code> (required) <code>SEAQA_MYSQL_DB_HOST</code> The host of MySQL server (required) <code>SEAQA_MYSQL_DB_PORT</code> The port of MySQL server <code>3306</code> <code>SEAQA_MYSQL_DB_USER</code> The user for accessing MySQL server <code>seaticket</code> <code>SEAQA_MYSQL_DB_PASSWORD</code> The password of MySQL server (none) <code>REDIS_HOST</code> The host of Redis server (required) <code>REDIS_PORT</code> The port of Redis server <code>6379</code> <code>REDIS_PASSWORD</code> The password of Redis server (none) <code>S3_HOST</code> S3 storage backend API endpoint URL (e.g., <code>https://s3-endpoint.example.com</code>. For AWS S3, the <code>S3_HOST</code> can be set from <code>https://s3.&lt;region&gt;.amazonaws.com</code>) (required) <code>S3_KEY_ID</code> S3 storage backend key ID (required) <code>S3_SECRET_KEY</code> S3 storage backend secret key (required) <code>S3_FILE_BUCKET</code> Name of the bucket for saving upload files (required) <code>S3_WEB_CRAWL_BUCKET</code> Name of the bucket for saving web-crawl data (required) <code>SEAQA_LOG_TO_STDOUT</code> Record logs to container standard output <code>false</code> <code>TIME_ZONE</code> Timezone of SeaTicket server <code>UTC</code>"},{"location":"setup/setup_seaticket_single/#modify-configyml-and-add-llm-models-configuration","title":"Modify <code>config.yml</code> and add LLM models configuration","text":"<p>Please refer here for the details.</p>"},{"location":"setup/setup_seaticket_single/#start-seaticket-server","title":"Start SeaTicket server","text":"<p>Modify <code>COMPOSE_FILE</code> in <code>.env</code> file:</p> <pre><code>COMPOSE_FILE='caddy.yml,seaqa-web.yml'\n</code></pre> <p>Start SeaTicket server with the following command</p> <pre><code>docker compose up -d\n</code></pre>"},{"location":"setup/setup_seaticket_single/#add-admin-account","title":"Add admin account","text":"<pre><code>docker exec -it seaqa-web /scripts/reset-admin.sh\n</code></pre> <p>Enter the username and password according to the prompts. You now have a new admin account.</p> <p>Finially, you can go to <code>http://seaticket.example.com</code> to use SeaTicket.</p>"},{"location":"setup/setup_seaticket_single/#deploy-other-components","title":"Deploy other components","text":"<p>You can deploy other components of SeaTicket, such as seaqa-ai, seaqa-events, seaqa-indexer.</p> <p>Copy <code>/opt/seaticket</code> to other machines.</p> <p>Modify <code>COMPOSE_FILE</code> in <code>.env</code> file:</p> <pre><code>COMPOSE_FILE='seaqa-ai.yml'\n</code></pre> <p>Start server with the following command</p> <pre><code>docker compose up -d\n</code></pre>"},{"location":"setup/setup_seaticket_single/#seaticket-directory-structure","title":"SeaTicket directory structure","text":"<p>Placeholder spot for shared volumes. You may elect to store certain persistent information outside of a container, in our case we keep various log files and upload directory outside. This allows you to rebuild containers easily without losing important information.</p>"},{"location":"setup/setup_seaticket_single/#path-optseadb-data","title":"Path <code>/opt/seadb-data</code>","text":"<ul> <li>/opt/seadb-data: This is the directory for seaticket server configuration and data.<ul> <li>/opt/seaticket-data/logs: This is the directory that would contain the log files of seaticket server processes. For example, you can find seadb logs in <code>/opt/seadb/logs/seadb.log</code>.</li> </ul> </li> </ul>"},{"location":"setup/setup_seaticket_single/#path-optseaticket-data","title":"Path <code>/opt/seaticket-data</code>","text":"<ul> <li>/opt/seaticket-data: This is the directory for seaticket server configuration and data.<ul> <li>/opt/seaticket-data/logs: This is the directory that would contain the log files of seaticket server processes. For example, you can find seaqa-web logs in <code>/opt/seaticket/logs/seaqa-web.log</code>.</li> <li>/opt/seaticket-data/seaqa-web-data: This is the directory that would contain the avatar files of seaticket server processes.</li> </ul> </li> </ul>"},{"location":"setup/setup_seaticket_single/#find-logs","title":"Find logs","text":"<p>To monitor container logs (from outside of the container), please use the following commands:</p> <pre><code># if the `.env` file is in current directory:\ndocker compose logs --follow\n# if the `.env` file is elsewhere:\ndocker compose --env-file /path/to/.env logs --follow\n\n# you can also specify container name:\ndocker compose logs seaqa-web --follow\n# or, if the `.env` file is elsewhere:\ndocker compose --env-file /path/to/.env logs seaqa-web --follow\n</code></pre> <p>The SeaTicket logs are under <code>/shared/logs</code> in the docker, or <code>/opt/seaticket/logs</code> in the server that run the docker.</p> <p>To monitor all SeaTicket logs simultaneously (from outside of the container), run</p> <pre><code>sudo tail -f $(find /opt/seaticket/logs/ -type f -name *.log 2&gt;/dev/null)\n</code></pre>"}]}